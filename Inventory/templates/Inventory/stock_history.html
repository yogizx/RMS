<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stock History</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Roboto', sans-serif; }
    body { background: #f5f7fa; color: #333; padding: 20px; line-height: 1.5; }

    h1 { text-align: center; font-size: 26px; margin-bottom: 20px; color: #001f3f; font-weight: 700; }

    /* ---------- Table Container ---------- */
    .table-container { 
        overflow-x: auto; 
        background: #fff; 
        border-radius: 12px; 
        padding: 10px; 
        box-shadow: 0 4px 12px rgba(0,0,0,0.08); 
    }

    table { 
        width: 100%; 
        border-collapse: separate; 
        border-spacing: 0; 
        min-width: 600px; 
    }

    th, td { 
        padding: 12px 15px; 
        text-align: left; 
        font-size: 14px; 
        white-space: nowrap; 
    }

    th { 
        background: #001f3f; 
        color: #fff; 
        font-weight: 600; 
        border-bottom: 2px solid #ddd; 
    }

    tr:nth-child(even) { background: #f9f9f9; }
    tr:hover { background: #e3f2fd; transition: background 0.3s ease; }

    /* ---------- Scrollbar Styling ---------- */
    .table-container::-webkit-scrollbar { height: 8px; }
    .table-container::-webkit-scrollbar-thumb { background: #001f3f; border-radius: 4px; }
    .table-container::-webkit-scrollbar-track { background: #f0f0f0; border-radius: 4px; }

    /* ---------- Responsive: Force Scroll on Mobile ---------- */
    @media(max-width: 768px) {
        .table-container { padding: 5px; }
        table { min-width: 500px; font-size: 13px; }
        th, td { padding: 10px; }
        h1 { font-size: 22px; }
    }
</style>
</head>
<body>

<h1>ðŸ“œ Stock History</h1>

<!-- Responsive Table -->
<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>Product</th>
                <th>Change</th>
                <th>Updated By</th>
                <th>Time</th>
                <th>Note</th>
            </tr>
        </thead>
        <tbody>
            {% for item in history %}
            <tr>
                <td>{{ item.product.name }}</td>
                <td>{{ item.change_quantity }}</td>
                <td>{{ item.updated_by }}</td>
                <td>{{ item.timestamp|date:"Y-m-d H:i" }}</td>
                <td>{{ item.note|default:"-" }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" style="text-align:center; padding:20px;">No history records found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

</body>
</html>
